graph TD
    subgraph "Frontend Layer"
        DASH[Dashboard<br/>neo-agent-dashboard<br/>✅ Deployed]
    end
    
    subgraph "API Gateway"
        WH[Webhook API<br/>:3000/webhook<br/>✅ Active]
        WH --> ROUTER[MCP Router<br/>process_intent<br/>✅ Active]
    end
    
    subgraph "Agent Core"
        ROUTER --> AGENT[LangChain Agent<br/>LangGraph ReAct<br/>✅ Active]
        
        AGENT --> HUNTER[Hunter.io<br/>verifyEmail<br/>✅ Connected]
        AGENT --> TWITTER[Twitter/X<br/>postUpdate<br/>⚠️ Auth Error]
        AGENT --> READER[State Reader<br/>get_lead_data<br/>✅ Connected]
        
        subgraph "MCP Tools - 33 total"
            AGENT --> BRAVE[Brave Search<br/>6 tools<br/>✅ Connected]
            AGENT --> FETCH[Fetch<br/>1 tool<br/>✅ Connected]
            AGENT --> GITHUB[GitHub<br/>26 tools<br/>✅ Connected]
        end
    end
    
    subgraph "State Layer - Active"
        READER --> KWIL_READ[(Kwil DB<br/>SELECT<br/>✅ Working)]
        AGENT --> WRITER[State Writer<br/>Multi-target<br/>✅ Active]
        WRITER --> KWIL_WRITE[(Kwil DB<br/>INSERT/UPDATE<br/>✅ Working)]
    end
    
    subgraph "State Layer - Pending"
        WRITER -.->|❌ Not Connected| CERAMIC[(Ceramic<br/>DID Streams<br/>⏳ Code Ready)]
        WRITER -.->|❌ Not Connected| GUN[(GUN DB<br/>P2P Sync<br/>⏳ Code Ready)]
        WRITER -.->|❌ Not Connected| IPFS[(IPFS<br/>Web3.Storage<br/>⏳ Code Ready)]
    end
    
    subgraph "External Infrastructure"
        BRAVE --> DOCKER_BRAVE[Docker<br/>mcp/brave-search<br/>✅ Running]
        FETCH --> DOCKER_FETCH[Docker<br/>mcp/fetch<br/>✅ Running]
        GITHUB --> DOCKER_GITHUB[Docker<br/>mcp/github<br/>✅ Running]
        
        KWIL_READ --> KWIL_NODE[Kwil Node<br/>:8080<br/>✅ Running]
        KWIL_WRITE --> KWIL_NODE
        KWIL_NODE --> POSTGRES[(PostgreSQL<br/>Kwil Backend<br/>✅ Running)]
    end
    
    subgraph "Monitoring - Not Connected"
        AGENT -.->|❌ Disabled| LANGSMITH[LangSmith<br/>Tracing<br/>⏳ Available]
        KWIL_NODE -.->|❌ Not Setup| PROMETHEUS[Prometheus<br/>Metrics<br/>⏳ Planned]
    end
    
    %% Frontend Connection
    DASH -->|HTTP POST| WH
    
    %% Styling
    classDef connected fill:#00ff88,stroke:#00aa55,stroke-width:3px,color:#000
    classDef warning fill:#ffaa00,stroke:#ff6600,stroke-width:2px,color:#000
    classDef pending fill:#ff6666,stroke:#cc0000,stroke-width:2px,color:#fff
    classDef infrastructure fill:#4488ff,stroke:#0044aa,stroke-width:2px,color:#fff
    
    class DASH,WH,ROUTER,AGENT,HUNTER,READER,BRAVE,FETCH,GITHUB,WRITER,KWIL_READ,KWIL_WRITE,KWIL_NODE,POSTGRES,DOCKER_BRAVE,DOCKER_FETCH,DOCKER_GITHUB connected
    class TWITTER warning
    class CERAMIC,GUN,IPFS,LANGSMITH,PROMETHEUS pending
